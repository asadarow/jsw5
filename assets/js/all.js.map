{"version":3,"sources":["all.js"],"names":["data","axios","get","then","response","init","list","document","querySelector","result","resultlength","str","resultstr","forEach","item","area","rate","imgUrl","name","description","group","price","innerHTML","length","filter","addEventListener","e","target","value","btn","fname","imgurl","count","star","memo","addform","alert","obj","id","push","reset"],"mappings":"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","file":"all.js","sourcesContent":["// let data = [\n//   {\n//     \"id\": 0,\n//     \"name\": \"肥宅心碎賞櫻3日\",\n//     \"imgUrl\": \"https://images.unsplash.com/photo-1522383225653-ed111181a951?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1655&q=80\",\n//     \"area\": \"高雄\",\n//     \"description\": \"賞櫻花最佳去處。肥宅不得不去的超讚景點！\",\n//     \"group\": 87,\n//     \"price\": 1400,\n//     \"rate\": 10\n//   },\n//   {\n//     \"id\": 1,\n//     \"name\": \"貓空纜車雙程票\",\n//     \"imgUrl\": \"https://images.unsplash.com/photo-1501393152198-34b240415948?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1650&q=80\",\n//     \"area\": \"台北\",\n//     \"description\": \"乘坐以透明強化玻璃為地板的「貓纜之眼」水晶車廂，享受騰雲駕霧遨遊天際之感\",\n//     \"group\": 99,\n//     \"price\": 240,\n//     \"rate\": 2\n//   },\n//   {\n//     \"id\": 2,\n//     \"name\": \"台中谷關溫泉會1日\",\n//     \"imgUrl\": \"https://images.unsplash.com/photo-1535530992830-e25d07cfa780?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1650&q=80\",\n//     \"area\": \"台中\",\n//     \"description\": \"全館客房均提供谷關無色無味之優質碳酸原湯，並取用八仙山之山冷泉供蒞臨貴賓沐浴及飲水使用。\",\n//     \"group\": 20,\n//     \"price\": 1765,\n//     \"rate\": 7\n//   }\n// ];\n\nlet data=[];\naxios.get('https://raw.githubusercontent.com/hexschool/js-training/main/travelApi.json')\n  .then(function (response) {\n    data=response.data.data;\n    init();\n  });\nconst list=document.querySelector(\".result-list\");\nconst result=document.querySelector(\".search-result\");\nlet resultlength=0;\n// 搜尋結果\nfunction init(){\n  let str=\"\";\n  let resultstr=\"\";\n  data.forEach(function(item){\n    str+=`<li class=\"card\"><div class=\"cover\"><p class=\"area\">${item.area}</p><p class=\"score\">${item.rate}</p><a href=\"#\"><img src=${item.imgUrl} alt=\"#\"></a></div><div class=\"content\"><div class=\"depiction\"><h2>${item.name}</h2><p>${item.description}</p></div><div class=\"purchase\"><p><span class=\"material-icons\">error</span>剩下最後 ${item.group} 組</p><h3><span>TWD</span>$${item.price}</h3></div></div></li>`;\n    list.innerHTML = str;\n  });\n  resultlength=data.length;\n  resultstr+=`本次搜尋共 ${resultlength} 筆資料`\n  result.innerHTML = resultstr;\n};\n\n// 篩選條件\nconst filter=document.querySelector(\".filter\");\n\nfilter.addEventListener(\"click\",function(e){\n  let str =\"\";\n  let resultstr=\"\";\n  resultlength=0;\n  data.forEach(function(item){\n    if(e.target.value==\"全部地區\"){\n      str+=`<li class=\"card\"><div class=\"cover\"><p class=\"area\">${item.area}</p><p class=\"score\">${item.rate}</p><a href=\"#\"><img src=${item.imgUrl} alt=\"#\"></a></div><div class=\"content\"><div class=\"depiction\"><h2>${item.name}</h2><p>${item.description}</p></div><div class=\"purchase\"><p><span class=\"material-icons\">error</span>剩下最後 ${item.group} 組</p><h3><span>TWD</span>$${item.price}</h3></div></div></li>`;\n      resultlength=data.length;\n    }else if(e.target.value==item.area){\n      str+=`<li class=\"card\"><div class=\"cover\"><p class=\"area\">${item.area}</p><p class=\"score\">${item.rate}</p><a href=\"#\"><img src=${item.imgUrl} alt=\"#\"></a></div><div class=\"content\"><div class=\"depiction\"><h2>${item.name}</h2><p>${item.description}</p></div><div class=\"purchase\"><p><span class=\"material-icons\">error</span>剩下最後 ${item.group} 組</p><h3><span>TWD</span>$${item.price}</h3></div></div></li>`;\n      resultlength++;\n    }\n    list.innerHTML = str;\n  })\n  resultstr+=`本次搜尋共 ${resultlength} 筆資料`\n  result.innerHTML = resultstr;\n})\n// 新增資料\nconst btn = document.querySelector(\".btn\");\nconst fname = document.querySelector(\"#fname\");\nconst imgurl = document.querySelector(\"#imgurl\");\nconst area = document.querySelector(\".country\");\nconst price = document.querySelector(\"#price\");\nconst count = document.querySelector(\"#count\");\nconst star = document.querySelector(\"#star\");\nconst memo = document.querySelector(\"#memo\");\nconst addform=document.querySelector(\".addform\");\nbtn.addEventListener(\"click\",function(e){\n  \n  if(fname.value.length<1){\n    alert(\"請填寫套票名稱\");\n  }else if(imgurl.value.length<=1){\n    alert(\"請填寫圖片網址\");\n  }else if(area.value===\"\"){\n    alert(\"請選擇景點地區\");\n  }else if(price.value<1){\n    alert(\"套票金額請填寫大於1的數字\");\n  }else if(count.value<1){\n    alert(\"套票組數請填寫大於1的數字\");\n  }else if(star.value<1|| star.value>10){\n    alert(\"套票星級請填寫1到10之間的數字\");\n  }else if(memo.value.length<1){\n    alert(\"請填寫套票描述\");\n  }else{\n    let obj={};\n    obj.id=data.length;\n    obj.name = fname.value;\n    obj.imgUrl=imgurl.value;\n    obj.area=area.value;\n    obj.description=memo.value;\n    obj.group=count.value;\n    obj.price=price.value;\n    obj.rate=star.value;\n    data.push(obj);\n    resultlength++;\n    alert(\"新增成功!\");\n    init();\n    filter.value=\"全部地區\";\n    addform.reset();\n  }\n})\n\n\n\n\n"]}